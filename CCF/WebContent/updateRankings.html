<!DOCTYPE html>
<html lang="en-US">
        <head>
            <title>Update Rankings</title>
            <meta name="viewport" content="width=device-width, initial-scale=1">
            <meta http-equiv="Content-Type" content="text/html;charset=ISO-8859-1">        
            <link rel="stylesheet" href="css/header.css">
            <link rel="stylesheet" href="css/body.css">
            <link rel="stylesheet" href="css/footer.css">
            <link rel="stylesheet" href="css/admin.css">
            

            <!-- script from https://jsfiddle.net/hrohxze0/6/ -->
            <script>
                function isbefore(a, b) {
                    if (a.parentNode == b.parentNode) {
                        for (var next = a; next; next = next.previousSibling) {
                            if (next === b) { 
                                return true;
                            }
                        }
                    }
                    return false;
                } 

                function dragenter(e) {
                    if (isbefore(source, e.target)) {
                        e.target.parentNode.insertBefore(source, e.target);
                    }
                    else {
                        e.target.parentNode.insertBefore(source, e.target.nextSibling);
                    }
                }

                function dragstart(e) {
                    source = e.target;
                    e.dataTransfer.effectAllowed = 'move';
                }

                function saveListOrder() {
                    var playerList = [];
                    var list = document.getElementsByTagName("li");
                    document.getElementById("test").innerHTML = "m";
                    for (var x = 0, y = list.length; x < y; ++x){
                        playerList.push(list[x].firstChild.nodeValue);
                    }
                    playerList.splice(0, 4);//because for some reason three elements are added at first.
                    document.getElementById("test").innerHTML = playerList;
                }

                function addPlayer(){

                }

                function removePlayer(){

                }
            </script>
        </head>

        <body>
            <div class = "menu">
                <ul>
                    <li class = "rankings"><a href = "updateRankings.html">Update Rankings</a></li>
                    <li class = "tournaments"><a href = "updateTournaments.html">Update Tournaments</a></li>
                    <li class = "tournaments"><a href = "updateSignUp.html">Update Sign-up</a></li>                    
                    <li class = "login"><a href = "home.html">Logout</a></li>                      
                </ul>
            </div>
            
            <br><br>
            
            <div class = "addPlayer">
                <h3>Add a player:</h3>
                <br>
                <form action = "addPlayer()">
                    Player Tag: <input type = "text" id = "newPlayerTag" title = "Tag Required" required>
                    <input type = "submit" value = "Add">
                </form>
            </div>

            <br><br>
            
            <div class = "removePlayer">
                <h3>Remove a player:</h3>
                <br>
                <form action = "removePlayer()">
                    Player Tag: <input type = "text" id = "newPlayerTag" title = "Tag Required" required>
                    <input type = "submit" value = "Remove">
                </form>
            </div>

            <br><br>
            
            <div class = "players">
                <h3>Update Player Rankings!</h3>
                <ol>
                    <li class = "player" draggable="true" ondragenter="dragenter(event)" ondragstart="dragstart(event)"" ">Player 1</li>
                    <li class = "player" draggable="true" ondragenter="dragenter(event)" ondragstart="dragstart(event)"" ">Player 2</li>
                    <li class = "player" draggable="true" ondragenter="dragenter(event)" ondragstart="dragstart(event)"" ">Player 3</li>
                    <li class = "player" draggable="true" ondragenter="dragenter(event)" ondragstart="dragstart(event)"" ">Player 4</li>
                    <li class = "player" draggable="true" ondragenter="dragenter(event)" ondragstart="dragstart(event)"" ">Player 5</li>
                    <li class = "player" draggable="true" ondragenter="dragenter(event)" ondragstart="dragstart(event)"" ">Player 6</li>
                </ol>
                <button type = "text" onclick = "saveListOrder()">Save List!</button>
            </div>
            <div id = "test"></div>
        </body>
</html>

    